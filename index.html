<script>
let lang = 'en'; // default language

// Change language function
function setLang(l) {
  lang = l;
  if(lang==='ur'){
    document.getElementById('heading').innerText = "پاکستان میں سونا اور چاندی کے تازہ نرخ";
    document.getElementById('gold-title').innerText = "سونا (24 قیراط / تولہ)";
    document.getElementById('silver-title').innerText = "چاندی (تولہ)";
    document.getElementById('usd-title').innerText = "ڈالر → روپیہ";
  } else {
    document.getElementById('heading').innerText = "Live Gold & Silver Prices | پاکستان";
    document.getElementById('gold-title').innerText = "Gold (24K / Tola)";
    document.getElementById('silver-title').innerText = "Silver (Tola)";
    document.getElementById('usd-title').innerText = "USD → PKR";
  }
}

// Fetch USD → PKR live
function fetchUSD() {
  fetch("https://api.exchangerate.host/latest?base=USD&symbols=PKR")
    .then(r => r.json())
    .then(d => {
      const usdRate = d.rates.PKR;
      document.getElementById("usd").innerText =
        lang==='ur' ? `1 ڈالر = ${usdRate} روپیہ` : `1 USD = ${usdRate} PKR`;
    })
    .catch(e => {
      console.log("Error fetching USD:", e);
    });
}

// Display Gold & Silver realistic placeholders
function fetchGoldSilver() {
  // Prices in PKR per tola
  const gold24k = 220000;
  const gold22k = 200000;
  const silver = 2000;

  document.getElementById("gold").innerText =
    lang==='ur' ?
    `24 قیراط: ${gold24k} | 22 قیراط: ${gold22k} روپیہ` :
    `24K: ${gold24k} PKR | 22K: ${gold22k} PKR`;

  document.getElementById("silver").innerText =
    lang==='ur' ? `${silver} روپیہ` : `${silver} PKR`;
}

// Fetch immediately on page load
fetchUSD();
fetchGoldSilver();

// Update every 60 seconds
setInterval(fetchUSD, 60000);
setInterval(fetchGoldSilver, 60000);
</script>
